import{_ as v,aw as u,A as f,m as k,n as t,p as d,q as o,d as a,a1 as p,V as Q,X as h,Y as w,Z as g,am as m,aq as T,a9 as B,ap as l,$ as c,F as _,ax as b}from"./index.9022de34.js";import{Q as C}from"./QToolbarTitle.5ecfa0aa.js";import{Q as D}from"./QToolbar.2a2e526c.js";import{Q as V}from"./QHeader.522a2ada.js";import{Q as P}from"./QSpace.fb5f89a7.js";import{Q as x}from"./QPage.a79a1249.js";import{Q as L}from"./QPullToRefresh.dea2c8d3.js";import{u as A}from"./SearchStore.4dfed49a.js";import"./QResizeObserver.129b050c.js";import"./TouchPan.f449f070.js";import"./touch.3df10340.js";import"./selection.5d84a74a.js";import"./format.3e32b8d9.js";const E={name:"SearchBooking",components:{TableBookingList:u(()=>b(()=>import("./TableBookingList.3476d3b6.js"),["assets/TableBookingList.3476d3b6.js","assets/QSpace.fb5f89a7.js","assets/index.9022de34.js","assets/index.8b19a20e.css","assets/QBadge.3c540cd9.js","assets/QItemLabel.4dae639c.js","assets/QList.da851dcd.js","assets/AccessStore.4066b28f.js"])),TableSkeleton:u(()=>b(()=>import("./TableSkeleton.dba5d973.js"),["assets/TableSkeleton.dba5d973.js","assets/QSkeleton.5de72ea8.js","assets/index.9022de34.js","assets/index.8b19a20e.css","assets/QItemLabel.4dae639c.js","assets/QList.da851dcd.js"]))},setup(){return{SearchStore:A()}},data(){return{q:"",loading:!1}},created(){this.SearchStore.data=""},computed:{hasSearch(){return!f.empty(this.q)}},methods:{refresh(e){this.clearSearch(),e()},clearSearch(){this.SearchStore.is_submit=!1,this.q="",this.SearchStore.data=[]},doSearch(){this.loading=!0,this.SearchStore.data=[],this.SearchStore.status=[],this.SearchStore.is_submit=!0,f.fetchDataByTokenPost("reservationList","q="+this.q).then(e=>{this.SearchStore.data.push(e.details.data),this.SearchStore.status=e.details.status_list}).catch(e=>{}).then(e=>{this.loading=!1})}}},I={class:"q-pa-md full-width"},N={key:0,class:"full-width text-center"},R={key:1,class:"full-width text-center"},F={class:"text-weight-bold"},O={class:"text-weight-light text-grey"};function j(e,i,z,r,s,n){const y=k("TableBookingList"),q=k("TableSkeleton");return t(),d(L,{onRefresh:n.refresh},{default:o(()=>[a(V,{class:g({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}),reveal:"","reveal-offset":"50"},{default:o(()=>[a(D,null,{default:o(()=>[a(p,{onClick:i[0]||(i[0]=S=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(C,{class:"text-weight-bold"},{default:o(()=>[Q(h(e.$t("Search Booking")),1)]),_:1})]),_:1}),a(w)]),_:1},8,["class"]),a(x,{class:g([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"flex justify-start"])},{default:o(()=>[m("div",I,[a(T,{outlined:"",modelValue:s.q,"onUpdate:modelValue":i[1]||(i[1]=S=>s.q=S),label:e.$t("Search"),color:"grey-5"},{append:o(()=>[r.SearchStore.hasData?(t(),d(B,{key:0,class:"cursor-pointer",name:"close",color:"grey",onClick:n.clearSearch},null,8,["onClick"])):l("",!0),r.SearchStore.hasData?l("",!0):(t(),d(p,{key:1,icon:"search",unelevated:"",color:"dark-grey","no-caps":"",loading:s.loading,round:"",flat:"",onClick:n.doSearch,disable:!n.hasSearch},null,8,["loading","onClick","disable"]))]),_:1},8,["modelValue","label"]),r.SearchStore.hasData?(t(),c(_,{key:0},[a(P,{class:"q-mt-md"}),a(y,{data:r.SearchStore.data,status:r.SearchStore.status,onConfirmDelete:e.confirmDelete},null,8,["data","status","onConfirmDelete"])],64)):l("",!0),s.loading?(t(),d(q,{key:1,rows:10})):l("",!0)]),r.SearchStore.is_submit?(t(),c("div",R,[!r.SearchStore.hasData&&!s.loading?(t(),c(_,{key:0},[m("div",F,h(e.$t("No data available")),1),m("div",O,h(e.$t("Sorry, we couldn't find any results")),1)],64)):l("",!0)])):(t(),c("div",N))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var te=v(E,[["render",j]]);export{te as default};
