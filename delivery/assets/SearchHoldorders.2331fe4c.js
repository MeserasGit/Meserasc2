import{_ as T,aw as k,u as D,A as b,m as y,n as o,$ as i,d as a,q as t,F as m,Z as Q,a1 as _,V as c,X as s,Y as V,am as d,aq as I,p as S,a9 as B,ap as f,a0 as H,ax as v,a3 as P,a4 as q}from"./index.9022de34.js";import{Q as O}from"./QToolbarTitle.5ecfa0aa.js";import{Q as A}from"./QToolbar.2a2e526c.js";import{Q as E}from"./QHeader.522a2ada.js";import{Q as L}from"./QSpace.fb5f89a7.js";import{Q as w}from"./QBadge.3c540cd9.js";import{Q as p}from"./QItemLabel.4dae639c.js";import{Q as N}from"./QList.da851dcd.js";import{Q as R}from"./QPage.a79a1249.js";import{Q as $}from"./QPullToRefresh.dea2c8d3.js";import{u as F}from"./SearchStore.4dfed49a.js";import"./QResizeObserver.129b050c.js";import"./TouchPan.f449f070.js";import"./touch.3df10340.js";import"./selection.5d84a74a.js";import"./format.3e32b8d9.js";const j={name:"SearchHoldorders",components:{TableSkeleton:k(()=>v(()=>import("./TableSkeleton.dba5d973.js"),["assets/TableSkeleton.dba5d973.js","assets/QSkeleton.5de72ea8.js","assets/index.9022de34.js","assets/index.8b19a20e.css","assets/QItemLabel.4dae639c.js","assets/QList.da851dcd.js"])),HoldOrdersdetails:k(()=>v(()=>import("./HoldOrdersdetails.c8f55ebd.js"),["assets/HoldOrdersdetails.c8f55ebd.js","assets/QInnerLoading.788e47b1.js","assets/index.9022de34.js","assets/index.8b19a20e.css","assets/QToolbarTitle.5ecfa0aa.js","assets/QSpace.fb5f89a7.js","assets/QToolbar.2a2e526c.js","assets/QItemLabel.4dae639c.js","assets/QList.da851dcd.js","assets/ClosePopup.6b679ccd.js","assets/CartStore.2adbc30c.js"]))},setup(){const e=F(),l=D();return{SearchStore:e,DataStore:l}},data(){return{q:"",loading:!1}},created(){this.SearchStore.data=""},computed:{hasSearch(){return!b.empty(this.q)}},methods:{refresh(e){this.clearSearch(),e()},clearSearch(){this.SearchStore.is_submit=!1,this.q="",this.SearchStore.data=[]},doSearch(){this.loading=!0,this.SearchStore.data=[],this.SearchStore.status=[],this.SearchStore.is_submit=!0,b.fetchDataByTokenPost("onHoldOrders","q="+this.q+"&page=1").then(e=>{this.SearchStore.data=e.details.data}).catch(e=>{}).then(e=>{this.loading=!1})},getCart(e,l,g){this.$refs.details.getCart(e,l,g)}}},z={class:"q-pa-md full-width"},U={class:"flex flex-center text-center"},X={key:0,class:"full-width text-center"},Y={class:"text-weight-bold"},Z={class:"text-weight-light text-grey"},G={key:1,class:"full-width text-center"},J={class:"text-weight-bold"},K={class:"text-weight-light text-grey"};function M(e,l,g,n,h,u){const C=y("TableSkeleton"),x=y("HoldOrdersdetails");return o(),i(m,null,[a($,{onRefresh:u.refresh},{default:t(()=>[a(E,{class:Q({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}),reveal:"","reveal-offset":"50"},{default:t(()=>[a(A,null,{default:t(()=>[a(_,{onClick:l[0]||(l[0]=r=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(O,{class:"text-weight-bold"},{default:t(()=>[c(s(e.$t("Search hold orders")),1)]),_:1})]),_:1}),a(V)]),_:1},8,["class"]),a(R,{class:Q([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"flex justify-start"])},{default:t(()=>[d("div",z,[a(I,{outlined:"",modelValue:h.q,"onUpdate:modelValue":l[1]||(l[1]=r=>h.q=r),label:e.$t("Search"),color:"grey-5"},{append:t(()=>[n.SearchStore.hasData?(o(),S(B,{key:0,class:"cursor-pointer",name:"close",color:"grey",onClick:u.clearSearch},null,8,["onClick"])):f("",!0),n.SearchStore.hasData?f("",!0):(o(),S(_,{key:1,icon:"search",unelevated:"",color:"dark-grey","no-caps":"",loading:h.loading,round:"",flat:"",onClick:u.doSearch,disable:!u.hasSearch},null,8,["loading","onClick","disable"]))]),_:1},8,["modelValue","label"]),n.SearchStore.hasData?(o(),i(m,{key:0},[a(L,{class:"q-mt-md"}),a(N,{separator:""},{default:t(()=>[(o(!0),i(m,null,H(n.SearchStore.data,r=>(o(),S(P,{key:r,clickable:"",onClick:W=>u.getCart(r.order_reference,r.cart_uuid,r.transaction_type)},{default:t(()=>[a(q,{avatar:"",top:""},{default:t(()=>[d("div",U,[d("div",null,[a(_,{dense:"",color:`green-12
`,round:"",icon:"o_shopping_bag",unelevated:""},{default:t(()=>[a(w,{color:"primary",floating:""},{default:t(()=>[c(s(r.qty),1)]),_:2},1024)]),_:2},1024)])])]),_:2},1024),a(q,{top:""},{default:t(()=>[a(p,{class:"text-dark"},{default:t(()=>[c(s(r.order_reference)+" ",1),a(w,{color:"amber"},{default:t(()=>[c(s(r.transaction_name),1)]),_:2},1024)]),_:2},1024),a(p,{class:"text-dark"},{default:t(()=>[c(s(r.customer_name),1)]),_:2},1024),a(p,{caption:"",class:"font12"},{default:t(()=>[c(s(r.date_created),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})],64)):f("",!0),h.loading?(o(),S(C,{key:1,rows:10})):f("",!0)]),n.SearchStore.is_submit?(o(),i("div",G,[!n.SearchStore.hasData&&!h.loading?(o(),i(m,{key:0},[d("div",J,s(e.$t("No data available")),1),d("div",K,s(e.$t("Sorry, we couldn't find any results")),1)],64)):f("",!0)])):(o(),i("div",X,[d("div",Y,s(e.$t("Search for hold order")),1),d("div",Z,s(e.$t("Search by order reference")),1)]))]),_:1},8,["class"])]),_:1},8,["onRefresh"]),a(x,{ref:"details"},null,512)],64)}var _e=T(j,[["render",M]]);export{_e as default};
