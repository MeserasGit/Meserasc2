import{_ as u,aw as n,ax as i,u as f,m as s,n as c,$ as _,d as o,q as l,p as h,R as v,ap as R,a1 as A,F as g}from"./index.9022de34.js";import{Q as y}from"./QBadge.3c540cd9.js";import{L as E}from"./index.7af6e0f9.js";import{u as C}from"./UserStore.e6e92fbc.js";const D={name:"NotiButton",components:{ComponentsRealtime:n(()=>i(()=>import("./ComponentsRealtime.94e6cf79.js"),["assets/ComponentsRealtime.94e6cf79.js","assets/index.4f152a18.js","assets/index.9022de34.js","assets/index.8b19a20e.css"])),PrinterAuto:n(()=>i(()=>import("./PrinterAuto.cd60a524.js"),["assets/PrinterAuto.cd60a524.js","assets/index.9022de34.js","assets/index.8b19a20e.css","assets/QToolbarTitle.5ecfa0aa.js","assets/QSpace.fb5f89a7.js","assets/QToolbar.2a2e526c.js","assets/UserStore.e6e92fbc.js","assets/PrintTemplate.26cb5c79.js","assets/AppBluetooth.7e08b241.js"]))},data(){return{data:[]}},setup(e){const t=f(),a=C();return{DataStore:t,UserStore:a}},computed:{hasData(){return Object.keys(this.data).length>0}},created(){},methods:{afterReceive(e){this.data=e,console.log("AFTER RECEIVE DATA"),console.log(JSON.stringify(e)),this.UserStore.data_push_receive=e,this.DataStore.local_notification&&this.playLocalNotification(e)},playLocalNotification(e){const t=Math.floor(Math.random()*1e4)+1;E.schedule({notifications:[{title:e.message,body:"",id:t}]})}}};function N(e,t,a,k,m,r){const d=s("ComponentsRealtime"),p=s("PrinterAuto");return c(),_(g,null,[o(A,{to:"/notifications",flat:"",round:"",dense:"",icon:"las la-bell",color:e.$q.dark.mode?"white":"dark"},{default:l(()=>[r.hasData?(c(),h(v,{key:0,appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:l(()=>[o(y,{floating:"",color:"primary2",rounded:"",style:{top:"2px"}})]),_:1})):R("",!0)]),_:1},8,["color"]),o(d,{ref:"realtime",getevent:"notification_event",onAfterReceive:r.afterReceive},null,8,["onAfterReceive"]),o(p,{ref:"printer_auto",data:m.data},null,8,["data"])],64)}var x=u(D,[["render",N]]);export{x as default};
