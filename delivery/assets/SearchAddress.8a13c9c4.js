import{_ as f,A as i,n as h,p as _,q as s,d as o,a3 as g,bT as b,cd as A,a4 as c,a9 as Q,V as p,X as u}from"./index.9022de34.js";import{Q as m}from"./QItemLabel.4dae639c.js";import{Q as V}from"./QSelect.311841ab.js";import"./QChip.6eb513c3.js";import"./QMenu.d414cf74.js";import"./selection.5d84a74a.js";import"./rtl.b51694b1.js";import"./format.3e32b8d9.js";const y={name:"SearchAddress",props:["placeholder"],data(){return{address:"",address_data:[],options:[],data:[],loading:!1}},methods:{Focus(){this.$refs.select_address.focus()},filterFn(t,e,a){if(t.length<2){a();return}i.fetchDataPost("getlocationAutocomplete","q="+t).then(r=>{e(()=>{this.options=r.details.data})}).catch(r=>{console.debug(r)}).then(r=>{})},selectAddress(t){i.empty(t)||(this.address_data=t,this.address=t.description,i.fetchDataPost("getLocationDetails","place_id="+t.id).then(e=>{const a=e.details.data;i.empty(a.latitude)||this.$emit("afterSelectaddress",a)}).catch(e=>{i.notify("negative",e,"error_outline",this.$q)}).then(e=>{}))}}};function P(t,e,a,r,l,n){return h(),_(V,{modelValue:l.address,"onUpdate:modelValue":[e[0]||(e[0]=d=>l.address=d),n.selectAddress],ref:"select_address","use-input":"","fill-input":"",outlined:"","stack-label":"","input-debounce":"0",options:l.options,onFilter:n.filterFn,color:"grey-5",borderless:"",placeholder:a.placeholder,behavior:"menu","hide-dropdown-icon":"",clearable:""},{option:s(d=>[o(g,b(A(d.itemProps)),{default:s(()=>[o(c,{avatar:"",top:"",style:{"min-width":"auto"}},{default:s(()=>[o(Q,{name:"las la-map-marker"})]),_:1}),o(c,null,{default:s(()=>[o(m,null,{default:s(()=>[p(u(d.opt.description),1)]),_:2},1024),o(m,{caption:""},{default:s(()=>[p(u(d.opt.addressLine2),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue","placeholder"])}var L=f(y,[["render",P]]);export{L as default};
