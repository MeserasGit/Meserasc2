import{_ as q,A as u,m as S,n as r,p,q as t,d as a,a1 as c,V as k,X as m,Y as $,Z as d,$ as s,F as g,a0 as M,ap as Q,am as f}from"./index.9022de34.js";import{Q as v}from"./QToolbarTitle.5ecfa0aa.js";import{Q as w}from"./QToolbar.2a2e526c.js";import{Q as C}from"./QHeader.522a2ada.js";import{Q as V}from"./QInnerLoading.788e47b1.js";import{Q as T}from"./QSpace.fb5f89a7.js";import{Q as B}from"./QFooter.864bb069.js";import{Q as I}from"./QPage.a79a1249.js";import{Q as N}from"./QPullToRefresh.dea2c8d3.js";import{u as L}from"./MenuStore.3c045915.js";import{d as z}from"./vuedraggable.umd.2dd4f3c9.js";import"./QResizeObserver.129b050c.js";import"./TouchPan.f449f070.js";import"./touch.3df10340.js";import"./selection.5d84a74a.js";import"./format.3e32b8d9.js";import"./vue.runtime.esm-bundler.61a80ba4.js";const D={name:"SortItems",components:{draggable:z},data(){return{data:[],loading:!1}},setup(){return{MenuStore:L()}},created(){this.MenuStore.geStoreMenu()},methods:{refresh(e){this.MenuStore.geStoreMenu(e)},submit(){this.loading=!0,u.fetchDataByToken("SortItems",{items:this.MenuStore.category}).then(e=>{u.notify(this.$q.dark.mode?"grey600":"light-green",e.msg,"check_circle",this.$q)}).catch(e=>{u.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1})}}},F={key:1},H=["innerHTML"];function P(e,l,R,o,y,h){const b=S("draggable");return r(),p(N,{onRefresh:h.refresh},{default:t(()=>[a(C,{class:d({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:t(()=>[a(w,null,{default:t(()=>[a(c,{onClick:l[0]||(l[0]=i=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(v,{class:"text-weight-bold"},{default:t(()=>[k(m(e.$t("Sort Items")),1)]),_:1})]),_:1}),a($)]),_:1},8,["class"]),a(I,{class:d([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode,"flex flex-center":!o.MenuStore.hasCategory},"q-pa-md"])},{default:t(()=>[o.MenuStore.loading?(r(),p(V,{key:0,showing:!0,color:"primary",size:"md"})):(r(),s(g,{key:1},[o.MenuStore.hasCategory?(r(),s("p",{key:0,class:d({"text-grey300":e.$q.dark.mode,"text-dark":!e.$q.dark.mode})},m(e.$t("Drag the list to sort")),3)):(r(),s("div",F,m(e.$t("No available data")),1)),(r(!0),s(g,null,M(o.MenuStore.category,i=>(r(),s(g,{key:i},[f("div",{class:d(["list-group-item q-pa-sm cursor-pointer",{"bg-grey600 ":e.$q.dark.mode,"border-grey":!e.$q.dark.mode}])},[f("span",{class:"text-weight-bold",innerHTML:i.category_name},null,8,H)],2),a(b,{modelValue:i.items,"onUpdate:modelValue":n=>i.items=n,"item-key":"value",class:"list-group","ghost-class":"ghost",move:e.checkMove,onStart:l[1]||(l[1]=n=>e.dragging=!0),onEnd:l[2]||(l[2]=n=>e.dragging=!1)},{item:t(({element:n})=>[f("div",{class:d(["list-group-item q-pa-sm cursor-pointer",{"bg-grey600 ":e.$q.dark.mode,"border-grey":!e.$q.dark.mode}])},[o.MenuStore.items[n]?(r(),s(g,{key:0},[k(m(o.MenuStore.items[n].item_name),1)],64)):(r(),s(g,{key:1},[k(m(e.$t("Name not available")),1)],64))],2)]),_:2},1032,["modelValue","onUpdate:modelValue","move"]),a(T,{class:"q-pa-sm"})],64))),128)),o.MenuStore.hasCategory?(r(),p(B,{key:2,class:d(["q-pl-md q-pr-md q-pb-xs",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:t(()=>[a(c,{onClick:h.submit,color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:y.loading},null,8,["onClick","label","loading"])]),_:1},8,["class"])):Q("",!0)],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var oe=q(D,[["render",P]]);export{oe as default};
